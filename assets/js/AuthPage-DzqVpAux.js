var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,n=(e,s)=>{for(var a in s||(s={}))i.call(s,a)&&t(e,a,s[a]);if(r)for(var a of r(s))l.call(s,a)&&t(e,a,s[a]);return e},o=(e,r)=>s(e,a(r)),c=(e,s,a)=>new Promise((r,i)=>{var l=e=>{try{n(a.next(e))}catch(s){i(s)}},t=e=>{try{n(a.throw(e))}catch(s){i(s)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,t);n((a=a.apply(e,s)).next())});import{r as d,x as m,j as p,b0 as u,b1 as h,O as x,U as j}from"./react-vendor-CnY34O61.js";import{u as v,C as y,a as g,b as f,f as w,c as N,d as b,t as P}from"./index-CjTRKdPh.js";import{I as S}from"./input-BR9g4TVH.js";import{L as C}from"./label-BEqXDCcJ.js";import{T as k,a as O,b as F,c as E}from"./tabs-XccOGY67.js";import{S as A,a as I,b as q,c as K,d as B}from"./select-CCpwHlIZ.js";import{N as D}from"./categories-niEc3ryh.js";import"./vendor-CwuJVHC1.js";import"./backend-vendor-CggdsxVJ.js";import"./ui-vendor-CttiZxwU.js";import"./utils-vendor-BkyaMd0J.js";import"./query-vendor-vr-56lSy.js";function T(){const[e,s]=d.useState(!1),[a,r]=d.useState({email:"",password:""}),[i,l]=d.useState({email:"",password:"",confirmPassword:"",displayName:"",phone:"",category:"",location:"",needs:[]}),t=D.map(e=>({id:e.id,label:e.name,icon:e.icon})),{signIn:T,signUp:L}=v(),U=m();return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background/80 to-secondary/20 px-4",children:p.jsxs(y,{className:"w-full max-w-md shadow-xl border-border/50",children:[p.jsxs(g,{className:"space-y-1 pb-4",children:[p.jsx(f,{className:"text-2xl font-brand text-center",children:"Welcome to TimeBank"}),p.jsx(w,{className:"text-center",children:"Trade your skills, grow your network"})]}),p.jsx(N,{children:p.jsxs(k,{defaultValue:"signin",className:"w-full",children:[p.jsxs(O,{className:"grid w-full grid-cols-2",children:[p.jsx(F,{value:"signin",children:"Sign In"}),p.jsx(F,{value:"signup",children:"Sign Up"})]}),p.jsx(E,{value:"signin",className:"mt-6",children:p.jsxs("form",{onSubmit:e=>c(this,null,function*(){e.preventDefault(),s(!0);try{const{error:e}=yield T(a.email,a.password);if(e)return void P({variant:"destructive",title:"Sign In Failed",description:e});P({title:"Welcome back!",description:"You have been signed in successfully."}),U("/dashboard")}catch(r){P({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{s(!1)}}),className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signin-email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(u,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"signin-email",type:"email",placeholder:"your@email.com",className:"pl-9",value:a.email,onChange:e=>r(o(n({},a),{email:e.target.value})),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signin-password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"signin-password",type:"password",placeholder:"••••••••",className:"pl-9",value:a.password,onChange:e=>r(o(n({},a),{password:e.target.value})),required:!0})]})]}),p.jsxs(b,{type:"submit",className:"w-full",disabled:e,children:[e&&p.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})}),p.jsx(E,{value:"signup",className:"mt-6",children:p.jsxs("form",{onSubmit:e=>c(this,null,function*(){if(e.preventDefault(),i.password===i.confirmPassword)if(i.displayName.trim())if(i.category)if(0!==i.needs.length){s(!0);try{const{error:e}=yield L({email:i.email,password:i.password,displayName:i.displayName,category:i.category,location:i.location,needs:i.needs,phone:i.phone});if(e)return void P({variant:"destructive",title:"Sign Up Failed",description:e});P({title:"Account Created!",description:"Please check your email to verify your account."}),l({email:"",password:"",confirmPassword:"",displayName:"",phone:"",category:"",location:"",needs:[]})}catch(a){P({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{s(!1)}}else P({variant:"destructive",title:"What do you need?",description:"Select at least one area where you need help so we can match you."});else P({variant:"destructive",title:"Select a category",description:"Let others know what service you offer."});else P({variant:"destructive",title:"Missing name",description:"Please provide your display name."});else P({variant:"destructive",title:"Password Mismatch",description:"Passwords do not match"})}),className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signup-name",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(j,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"signup-name",type:"text",placeholder:"Your name",className:"pl-9",value:i.displayName,onChange:e=>l(o(n({},i),{displayName:e.target.value})),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signup-email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(u,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"signup-email",type:"email",placeholder:"your@email.com",className:"pl-9",value:i.email,onChange:e=>l(o(n({},i),{email:e.target.value})),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signup-password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"signup-password",type:"password",placeholder:"••••••••",className:"pl-9",value:i.password,onChange:e=>l(o(n({},i),{password:e.target.value})),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"confirm-password",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(S,{id:"confirm-password",type:"password",placeholder:"••••••••",className:"pl-9",value:i.confirmPassword,onChange:e=>l(o(n({},i),{confirmPassword:e.target.value})),required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{htmlFor:"signup-phone",children:"Phone Number (optional)"}),p.jsx(S,{id:"signup-phone",type:"tel",placeholder:"+234 xxx xxx xxxx",value:i.phone,onChange:e=>l(o(n({},i),{phone:e.target.value}))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{children:"What do you need help with?"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Select at least one area where you'd like support from the community."}),p.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(e=>p.jsxs(b,{type:"button",variant:i.needs.includes(e.id)?"default":"outline",size:"sm",onClick:()=>{return s=e.id,void l(e=>{const a=e.needs.includes(s);return o(n({},e),{needs:a?e.needs.filter(e=>e!==s):[...e.needs,s]})});var s},children:[p.jsx("span",{className:"mr-1",children:e.icon}),e.label]},e.id))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{children:"Primary Category"}),p.jsxs(A,{value:i.category||"",onValueChange:e=>l(o(n({},i),{category:e})),children:[p.jsx(I,{children:p.jsx(q,{placeholder:"Select the service you offer"})}),p.jsx(K,{children:t.map(e=>p.jsxs(B,{value:e.id,children:[p.jsx("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(C,{children:"Location"}),p.jsxs(A,{value:i.location||"",onValueChange:e=>l(o(n({},i),{location:e})),children:[p.jsx(I,{children:p.jsx(q,{placeholder:"Select your state"})}),p.jsx(K,{children:["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara","FCT"].map(e=>p.jsx(B,{value:e,children:e},e))})]})]}),p.jsxs(b,{type:"submit",className:"w-full",disabled:e,children:[e&&p.jsx(x,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})})]})})]})})}export{T as default};
